listening-port={{ turn_port }}
#tls-listening-port=5349
#alt-listening-port=0
#alt-tls-listening-port=0

external-ip={{ public_ip }}

min-port={{ min_relay_port }}
max-port={{ max_relay_port }}

fingerprint
#lt-cred-mech

use-auth-secret
static-auth-secret={{ shared_secret }}
realm={{ domain }}

user-quota=12
total-quota=1200
#max-bps=0
#bps-capacity=0

#no-udp
#no-tcp
#no-tls
#no-dtls

#no-udp-relay
no-tcp-relay

denied-peer-ip=0.0.0.0-255.255.255.255
allowed-peer-ip={{ public_ip }}
allowed-peer-ip={{ ansible_host }}

no-tlsv1
no-tlsv1_1
no-tlsv1_2

#cert=/usr/local/etc/turn_server_cert.pem
#pkey=/usr/local/etc/turn_server_pkey.pem
#cipher-list="DEFAULT"
#CA-file=/etc/ssh/id_rsa.cert
#ec-curve-name=prime256v1

syslog

#stun-only
#no-stun
#rest-api-separator=:
#secure-stun
no-cli

{% if ansible_distribution == 'Alpine' %}
proc-user=turnserver
proc-group=turnserver
{% endif %}